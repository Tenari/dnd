<template name="Character_create">
  <p>Design your character:</p>
  <form class="character-create-form">
    <p>What is your name?: <input type="text" name="name" class="character-name"/> Gender: {{> dropdown options=genders className='genders'}} Alignment: {{> dropdown options=alignments className='alignments'}}</p>
    {{#if reactiveVar 'name'}}
      <p>Pick a race: {{> dropdown options=races className='races'}} Pick a class: {{> dropdown options=classes className='classes'}}</p>
      <p>Class description: {{classDescription}}</p>
      <p>Racial bonus: {{racialBonus}}</p>
      <ul class="abilities-list">
        <p>remaining buy points: {{reactiveVar 'buyPoints'}}</p>
        {{#each ability in abilities}}
          <li>
            <span class="ability-label">{{ability.label}}</span>
            <button class="decrement" data-key="{{ability.key}}">-</button><span class="score">{{reactiveVar ability.key}}</span><button class="increment" data-key="{{ability.key}}">+</button>
            {{racialBonusFor ability}}
          </li>
        {{/each}}
      </ul>
      {{#unless reactiveVar 'buyPoints'}}
        {{#if classIs 'cleric'}}
          {{> clericSetup domain=currentDomain}}
        {{/if}}
        <p>Double Proficiencies: {{doubleProficiencies}}</p>
        <p>Proficiencies: {{proficiencies}}</p>
        {{#if extraProficiencies}}
          <p>
            Choose extra proficiencies
            {{#each prof in proficiencyChoices}}
              {{> dropdown options=availableProficiencies className='proficiency-select' key=prof}}
            {{/each}}
          </p>
        {{/if}}
        <p>Languages: {{reactiveVar 'languages'}}</p>
        {{#if extraLanguages}}
          <p>
            Choose extra languages
            {{#each lang in languageChoices}}
              {{> dropdown options=languages className='language-select' key=lang}}
            {{/each}}
          </p>
        {{/if}}
        <div class="background-setup">
          Choose a background: {{> dropdown options=backgrounds className='background-select'}}
        </div>
        <h4><a href="javascript:void(0)" data-tab="buy" class="items-tab">Buy</a> or <a href="javascript:void(0)" data-tab="choose" class="items-tab">Choose</a> Items</h4>
        {{#if itemsTab 'buy'}}
          <p>Remaining Wealth: {{remainingWealth}}gp | Total weight: {{itemsWeight}}lbs / {{carryingCapacity}}lbs</p>
          <div class="items-buy">
            <ul class="bought-items">
              {{#each myItems}}
                <li data-key="{{key}}">{{> item}}</li>
              {{/each}}
            </ul>
            <ul class="item-list">
              <input class="item-filter" type="text"/>
              {{#each shopItems}}
                <li data-key="{{key}}">{{> item}}</li>
              {{/each}}
            </ul>
          </div>
        {{else if itemsTab 'choose'}}
          <p>Automatic Items: {{freeItems}}</p>
          <p>extra gp: {{bgGp}}</p>
          <div>
            {{#each list in itemChoice}}
              {{> dropdown options=list className='item-choice'}}
            {{/each}}
          </div>
        {{/if}}
        <div><button class="submit-character">CREATE CHARACTER!!!</button></div>
      {{/unless}}
    {{/if}}
  </form>
</template>
